<!DOCTYPE html>
<html>
<head>
  <title>Map Column Headers</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 30px; }
    select, button {
      margin: 10px 0;
      padding: 10px;
      font-size: 1em;
    }
    .match-box {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin: 10px 0;
      background: #f9f9f9;
    }
    .selected {
      margin-top: 20px;
      padding: 15px;
      background: #e6ffe6;
      border: 2px solid #66cc66;
      border-radius: 6px;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h2>Select a Figma Header</h2>
  <form method="POST">
    <label for="header">Figma Column:</label><br>
    <select name="header" id="header">
      <option value="Name">Name</option>
      <option value="Account">Account</option>
      <option value="Sales Stage">Sales Stage</option>
      <option value="Win Probability">Win Probability</option>
      <option value="AI Score">AI Score</option>
      <option value="Total value">Total value</option>
      <option value="Source">Source</option>
      <option value="Expected closure">Expected closure</option>
      <option value="Created">Created</option>
      <option value="Alerts">Alerts</option>
    </select><br>
    <button type="submit">Find Top Matches</button>
  </form>

  {% if matches %}
    <hr>
    <h3>Top 3 Matches for "{{ header }}"</h3>
    <form method="POST">
      {% for match in matches %}
        <div class="match-box">
          <input type="radio" name="selected_match" value="{{ match.field }}" required>
          <label><strong>{{ match.field }}</strong>: {{ match.value }}</label>
        </div>
      {% endfor %}
      <input type="hidden" name="header" value="{{ header }}">
      <button type="submit">Confirm Selection</button>
    </form>
  {% endif %}

  {% if selected %}
    <div class="selected">
      You selected: <strong>{{ selected }}</strong>
    </div>
  {% endif %}

</body>
</html>